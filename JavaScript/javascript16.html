<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Untitled Document</title>
</head>
<body>
    <script>
        var counterFactory = (function(){
            var staticCount = 0;
            return function(){
                var localCount = 0;
                return {increase:function(){
                            return { static : ++staticCount, local : ++localCount }
                        },
                       decrease:function(){
                           return { static : --staticCount, local : --localCount }
                       }
                }
            }
        }()); // iife 사용해서 선언만 되어도 바로 실행되도록 함.
        
        var counter = counterFactory(),
            counter2 = counterFactory();
        
        console.log(counter.increase()); // {static : 1, local : 1}
        console.log(counter2.increase()); // {static : 2, local : 1}
        console.log(counter.increase()); // {static : 3, local : 2}
        
    </script>


</body>
</html>