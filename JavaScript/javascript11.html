<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Untitled Document</title>
</head>
<body>
    <div id='div0'>Click me! DIV 0</div>
    <div id='div1'>Click me! DIV 1</div>
    <div id='div2'>Click me! DIV 2</div>
    <script>
        var i, len =3;
        for(i=0;i<len;i++){
            document.getElementById('div'+i)
                    .addEventListener('click',function(){
                                                    alert('You Clicked div #'+i);
                                              },false);
        }
        
        // getElementById로 div+i를 알고,
        // addEventListener로 click 이벤트를 Listen하고, 콜백함수로 function(){alert~}을 실행한다.
        // addEventListener() 실행컨텍스트가 콜스택에 3개 쌓임. -> 이동안 i는 3이 되었음.
        
        /*
            for문 다돌고 난 뒤 모습 
            
            ┌ global ──┐ 
            │  i=3     │ 
            │ len=3    │ 
            └──────────┘    
           ┌───── Call Stack ──────┐
           │                       │
           │                       │
           │                       │
           │                       │
           │                       │
           │ ┌───────────────────┐ │
           │ │addEventListener(i)│ │
           │ └───────────────────┘ │
           │ ┌───────────────────┐ │
           │ │addEventListener(i)│ │
           │ └───────────────────┘ │  -------> 클릭시 i가 실행되면서, i는 3이므로 alert(3) 나옴.
           │ ┌───────────────────┐ │
           │ │addEventListener(i)│ │
           │ └───────────────────┘ │
           └───────────────────────┘
        */
    </script>

</body>
</html>